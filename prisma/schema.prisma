generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Snippet {
  id          String   @id @default(uuid())
  created     DateTime @default(now())
  updated     DateTime @updatedAt
  slug        String   @unique
  title       String
  body        String
  description String
  language    Language
  tags        Tag[]
  user        User?    @relation(fields: [userId], references: [id])
  userId      String?
}

model User {
  id             String    @id @default(uuid())
  created        DateTime  @default(now())
  updated        DateTime  @updatedAt
  name           String    @unique
  password       String
  isDeactivated  Boolean   @default(false)
  snippetsPosted Snippet[]
}

enum Language {
  c
  cpp
  cs
  css
  elixir
  html
  jav
  js
  jsx
  php
  prisma
  py
  sql
  ts
  tsx
}

enum Tag {
  web
  native
  backend
  frontend
  fullstack
  asynchronous
  database
  config
  server
  client
  middleware
  devops
  auth
  api
}
